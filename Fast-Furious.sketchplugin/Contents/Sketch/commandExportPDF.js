var globalThis=this;function __skpm_run(e,t){globalThis.context=t;var n=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){(function(t){e.exports.getURL=function(e){return NSURL.URLWithString(String(NSString.stringWithString(e).stringByExpandingTildeInPath()).replace(/ /g,"%20"))},e.exports.runDialog=function(e,n,r){if(!r){var i=e.runModal();return t.resolve(n(e,i))}var o=coscript.createFiber(),a=(r.sketchObject||r).documentWindow();return new t(function(t,r){e.beginSheetModalForWindow_completionHandler(a,__mocha__.createBlock_function("v16@?0q8",function(i){try{t(n(e,i))}catch(a){r(a)}NSApp.endSheet(e),o?o.cleanup():coscript.shouldKeepAround=!1}))})},e.exports.runDialogSync=function(e,t,n){var r;if(!n)return r=e.runModal(),t(e,r);var i=(n.sketchObject||n).documentWindow();return e.beginSheetModalForWindow_completionHandler(i,__mocha__.createBlock_function("v16@?0q8",function(e){NSApp.stopModalWithCode(e)})),r=NSApp.runModalForWindow(i),NSApp.endSheet(e),t(e,r)}}).call(this,n(20))},function(e,t,n){var r=n(12),i=n(13);e.exports=function e(t,n,o){var a=i(t,n,o);if("."!==a.file[0]&&"/"!==a.file[0]&&"~"!==a.file[0]){var s=e("/bin/bash",["-l","-c","which "+a.file],{encoding:"utf8"});if(s.err)return s;var l=String(s.stdout).trim();return l.length?e(l,n,o):{err:new Error(String(a.file)+" ENOENT")}}var u=a.options,c=NSPipe.pipe(),f=NSPipe.pipe();try{var d=NSTask.alloc().init();d.setLaunchPath(NSString.stringWithString(a.file).stringByExpandingTildeInPath()),d.arguments=NSArray.arrayWithArray(a.args||[]),a.envPairs&&(d.environment=a.envPairs),u.cwd&&d.setCurrentDirectoryPath(NSString.stringWithString(u.cwd).stringByExpandingTildeInPath()),d.setStandardOutput(c),d.setStandardError(f),d.launch(),d.waitUntilExit();var p,h,g,m=!1,v=!1;return"ignored"===a.stdio[1]?m=!0:1===a.stdio[1]?(p=c.fileHandleForReading().readDataToEndOfFile(),h=r(p,u.encoding||"buffer"),console.log(h)):2===a.stdio[1]&&(p=c.fileHandleForReading().readDataToEndOfFile(),h=r(p,u.encoding||"buffer"),console.error(h)),"ignored"===a.stdio[2]?v=!0:1===a.stdio[2]?(p=f.fileHandleForReading().readDataToEndOfFile(),g=r(p,u.encoding||"buffer"),console.log(g)):2===a.stdio[2]&&(p=f.fileHandleForReading().readDataToEndOfFile(),g=r(p,u.encoding||"buffer"),console.error(g)),{pid:String(d.processIdentifier()),status:Number(d.terminationStatus()),get stdout(){return m?null:h||(p=c.fileHandleForReading().readDataToEndOfFile(),r(p,u.encoding||"buffer"))},get stderr(){return v?null:g?h:(p=f.fileHandleForReading().readDataToEndOfFile(),r(p,u.encoding||"buffer"))}}}catch(y){return{err:y}}}},function(e,t,n){var r=n(0);function i(e,t){e&&("function"==typeof e.isKindOfClass||e.sketchObject)||(t=e,e=void 0),t||(t={});var n=NSOpenPanel.openPanel();if(t.title&&(n.title=t.title),t.defaultPath&&n.setDirectoryURL(r.getURL(t.defaultPath)),t.buttonLabel&&(n.prompt=t.buttonLabel),t.filters&&t.filters.length){var i=[];t.filters.forEach(function(e){e.extensions.forEach(function(e){i.push(e)})}),n.allowedFileTypes=i}var o=Array.isArray(t.properties)&&t.properties.length>0;return n.canChooseFiles=o&&-1!==t.properties.indexOf("openFile"),n.canChooseDirectories=o&&-1!==t.properties.indexOf("openDirectory"),n.allowsMultipleSelection=o&&-1!==t.properties.indexOf("multiSelections"),n.showsHiddenFiles=o&&-1!==t.properties.indexOf("showHiddenFiles"),n.canCreateDirectories=o&&-1!==t.properties.indexOf("createDirectory"),n.resolvesAliases=!o||-1===t.properties.indexOf("noResolveAliases"),n.treatsFilePackagesAsDirectories=o&&-1!==t.properties.indexOf("treatPackageAsDirectory"),t.message&&(n.message=t.message),{document:e,options:t,dialog:n}}e.exports.openDialog=function(e,t){var n=i(e,t);return r.runDialog(n.dialog,function(e,t){if(t!=NSOKButton)return{canceled:!0,filePaths:[]};for(var n=[],r=e.URLs(),i=0;i<r.length;i+=1)n.push(String(r[i].path()));return{canceled:!1,filePaths:n}},n.document)},e.exports.openDialogSync=function(e,t){var n=i(e,t);return r.runDialogSync(n.dialog,function(e,t){if(t!=NSOKButton)return[];for(var n=[],r=e.URLs(),i=0;i<r.length;i+=1)n.push(String(r[i].path()));return n},n.document)}},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(21),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(4))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r=n(0);function i(e,t){e&&("function"==typeof e.isKindOfClass||e.sketchObject)||(t=e,e=void 0),t||(t={});var n=NSSavePanel.savePanel();if(t.title&&(n.title=t.title),t.defaultPath)if(n.setDirectoryURL(r.getURL(t.defaultPath)),"."===t.defaultPath[0]||"~"===t.defaultPath[0]||"/"===t.defaultPath[0]){var i=t.defaultPath.split("/");i.length>1&&i[i.length-1]&&n.setNameFieldStringValue(i[i.length-1])}else n.setNameFieldStringValue(t.defaultPath);if(t.buttonLabel&&(n.prompt=t.buttonLabel),t.filters&&t.filters.length){var o=[];t.filters.forEach(function(e){e.extensions.forEach(function(e){o.push(e)})}),n.allowedFileTypes=o}return t.message&&(n.message=t.message),t.nameFieldLabel&&(n.nameFieldLabel=t.nameFieldLabel),t.showsTagField&&(n.showsTagField=t.showsTagField),{document:e,options:t,dialog:n}}e.exports.saveDialog=function(e,t){var n=i(e,t);return r.runDialog(n.dialog,function(e,t){return{canceled:t!=NSOKButton,filePath:t==NSOKButton?String(e.URL().path()):void 0}},n.document)},e.exports.saveDialogSync=function(e,t){var n=i(e,t);return r.runDialogSync(n.dialog,function(e,t){return t==NSOKButton?String(e.URL().path()):void 0},n.document)}},function(e,t,n){var r=n(0),i={none:0,info:1,error:2,question:1,warning:2};function o(e,t){!e||"function"!=typeof e.isKindOfClass&&!e.sketchObject?(t=e,e=void 0):e.sketchObject&&(e=e.sketchObject),t||(t={});var n=NSAlert.alloc().init();if(t.type&&(n.alertStyle=i[t.type]||0),t.buttons&&t.buttons.length&&t.buttons.forEach(function(e){n.addButtonWithTitle(t.normalizeAccessKeys?e.replace(/&/g,""):e)}),void 0!==t.defaultId){var r=n.buttons();t.defaultId<r.length&&(r[0].setKeyEquivalent(""),r[t.defaultId].setKeyEquivalent("\r"))}if(t.title,t.message&&(n.messageText=t.message),t.detail&&(n.informativeText=t.detail),t.checkboxLabel&&(n.showsSuppressionButton=!0,n.suppressionButton().title=t.checkboxLabel,void 0!==t.checkboxChecked&&(n.suppressionButton().state=t.checkboxChecked?NSOnState:NSOffState)),t.icon)"string"==typeof t.icon&&(t.icon=NSImage.alloc().initWithContentsOfFile(t.icon)),n.icon=t.icon;else if("undefined"!=typeof __command&&__command.pluginBundle()&&__command.pluginBundle().icon())n.icon=__command.pluginBundle().icon();else{var o=NSImage.imageNamed("plugins");o&&(n.icon=o)}return{document:e,options:t,dialog:n}}e.exports.messageBox=function(e,t){var n=o(e,t);return r.runDialog(n.dialog,function(e,t){return{response:n.options.buttons&&n.options.buttons.length?Number(t)-1e3:Number(t),checkboxChecked:e.suppressionButton().state()==NSOnState}},n.document)},e.exports.messageBoxSync=function(e,t){var n=o(e,t);return r.runDialogSync(n.dialog,function(e,t){return n.options.buttons&&n.options.buttons.length?Number(t)-1e3:Number(t)},n.document)}},function(e,t,n){var r=n(9),i=n(12);function o(e,t){return e.appendData(t),e}e.exports=function(e,t,n,a){var s={encoding:"utf8",timeout:0,maxBuffer:204800,killSignal:"SIGTERM",cwd:void 0,env:void 0,shell:!1};"function"==typeof t?(a=t,t=[],n=s):"object"!=typeof t||Array.isArray(t)?n=Object.assign(s,n):(a=n,n=Object.assign(s,t),t=[]),function(e){if(null!=e&&!(Number.isInteger(e)&&e>=0))throw new Error("ERR_OUT_OF_RANGE options.timeout")}(n.timeout),function(e){if(null!=e&&!("number"==typeof e&&e>=0))throw new Error("ERR_OUT_OF_RANGE options.maxBuffer")}(n.maxBuffer);var l,u=r(e,t,{cwd:n.cwd,env:n.env,gid:n.gid,uid:n.uid,shell:n.shell}),c=n.encoding,f=[],d=[],p=0,h=0,g=!1,m=!1,v=null,y=e;function _(e,n){if(!m&&(m=!0,l&&(clearTimeout(l),l=null),a)){var r=i(NSData.dataWithData(f.reduce(o,NSMutableData.data())),c),s=i(NSData.dataWithData(d.reduce(o,NSMutableData.data())),c);v||0!==e||null!==n?(0!==t.length&&(y+=" "+t.join(" ")),v||((v=new Error("Command failed: "+y+"\n"+s)).killed=u.killed||g,v.code=e,v.signal=n),v.cmd=y,a(v,r,s)):a(null,r,s)}}function b(){g=!0;try{u.kill(n.killSignal)}catch(e){v=e,_()}}return n.timeout>0&&(l=setTimeout(function(){b(),l=null},n.timeout)),u.stdout&&(u.stdout.setEncoding("NSData"),u.stdout.on("data",function(e){(p+=e.length())>n.maxBuffer?(v=new Error("ERR_CHILD_PROCESS_STDIO_MAXBUFFER stdout"),b()):f.push(e)})),u.stderr&&(u.stderr.setEncoding("NSData"),u.stderr.on("data",function(e){(h+=e.length())>n.maxBuffer?(v=new Error("ERR_CHILD_PROCESS_STDIO_MAXBUFFER stderr"),b()):d.push(e)})),u.addListener("close",_),u.addListener("error",function(e){v=e,_()}),u}},function(e,t,n){(function(t,r){var i=n(10).Buffer,o=n(24),a=n(11).Readable,s=n(11).Writable,l=n(1),u=n(13);e.exports=function e(n,c,f){var d=u(n,c,f),p=new o;if("."!==d.file[0]&&"/"!==d.file[0]&&"~"!==d.file[0]){var h=l("/bin/bash",["-l","-c","which "+d.file],{encoding:"utf8"}),g=String(h.stdout||"").trim();return h.err||!g.length?(p.stderr=new o,p.stdout=new o,p.pid="-1",p.stderr.setEncoding=function(e){p.stderr.encoding=e},p.stdout.setEncoding=function(e){p.stdout.encoding=e},g.length?p.emit("error",h.err):p.emit("error",new Error(String(d.file)+" ENOENT")),p):e(g,c,f)}var m=d.options;p.killed=!1;var v,y=coscript.createFiber(),_=null,b=!1,S=!1;p.stderr=new a({read:function(){b=!0}}),p.stdout=new a({read:function(){S=!0}}),p.sdtin=new s({write:function(e,t,n){v.standardInput().fileHandleForWriting().writeData(e.toNSData()),n()},final:function(e){v.standardInput().fileHandleForWriting().closeFile(),e()}}),p.sdtio=[p.sdtin,p.sdtout,p.sdterr];try{v=NSTask.alloc().init();var w=NSPipe.pipe(),E=NSPipe.pipe(),x=NSPipe.pipe();v.setStandardInput(w),v.setStandardOutput(E),v.setStandardError(x),v.standardOutput().fileHandleForReading().setReadabilityHandler(__mocha__.createBlock_function('v16@?0@"NSFileHandle"8',function(e){try{(n=e.availableData())&&n.length()&&S&&(p.stdout.push(i.from(n))||(S=!1,v.standardOutput().fileHandleForReading().setReadabilityHandler(null)))}catch(r){void 0!==t&&t.listenerCount&&t.listenerCount("uncaughtException")?t.emit("uncaughtException",r,"uncaughtException"):console.error(r)}var n})),v.standardError().fileHandleForReading().setReadabilityHandler(__mocha__.createBlock_function('v16@?0@"NSFileHandle"8',function(e){try{(n=e.availableData())&&n.length()&&b&&(p.stderr.push(i.from(n))||(b=!1,v.standardError().fileHandleForReading().setReadabilityHandler(null)))}catch(r){void 0!==t&&t.listenerCount&&t.listenerCount("uncaughtException")?t.emit("uncaughtException",r,"uncaughtException"):console.error(r)}var n})),v.setLaunchPath(NSString.stringWithString(d.file).stringByExpandingTildeInPath()),v.arguments=NSArray.arrayWithArray(d.args||[]),d.envPairs&&(v.environment=d.envPairs),m.cwd&&v.setCurrentDirectoryPath(NSString.stringWithString(m.cwd).stringByExpandingTildeInPath()),v.setTerminationHandler(__mocha__.createBlock_function('v16@?0@"NSTask"8',function(e){try{e.standardError().fileHandleForReading().setReadabilityHandler(null),e.standardOutput().fileHandleForReading().setReadabilityHandler(null),p.stderr.emit("close"),p.stdout.emit("close"),p.killed=!0,p.emit("close",Number(e.terminationStatus()),_)}catch(n){void 0!==t&&t.listenerCount&&t.listenerCount("uncaughtException")?t.emit("uncaughtException",n,"uncaughtException"):console.error(n)}y.cleanup()})),r(()=>v.launch())}catch(T){return y.cleanup(),p.emit("error",T),p}return p.kill=function(e){p.killed||(_=e,v.terminate())},p.pid=String(v.processIdentifier()),p}}).call(this,n(5),n(3).setImmediate)},function(e,t){e.exports=require("buffer")},function(e,t){e.exports=require("stream")},function(e,t,n){var r=n(10).Buffer;e.exports=function(e,t){return function(e,t){return"buffer"===t?e:"NSData"===t?e.toNSData():e.toString(t)}(r.from(e),t)}},function(e,t){e.exports=function(e,t,n){if("string"!=typeof e||0===e.length)throw new Error("ERR_INVALID_ARG_TYPE");if(Array.isArray(t))t=t.slice(0);else{if(void 0!==t&&(null===t||"object"!=typeof t))throw new Error("ERR_INVALID_ARG_TYPE args");n=t,t=[]}if(void 0===n)n={};else if(null===n||"object"!=typeof n)throw new Error("ERR_INVALID_ARG_TYPE options");if(null!=n.cwd&&"string"!=typeof n.cwd)throw new Error("ERR_INVALID_ARG_TYPE options.cwd");if(null!=n.detached&&"boolean"!=typeof n.detached)throw new Error("ERR_INVALID_ARG_TYPE options.detached");if(null!=n.uid&&!Number.isInteger(n.uid))throw new Error("ERR_INVALID_ARG_TYPE options.uid");if(null!=n.gid&&!Number.isInteger(n.gid))throw new Error("ERR_INVALID_ARG_TYPE options.gid");if(null!=n.shell&&"boolean"!=typeof n.shell&&"string"!=typeof n.shell)throw new Error("ERR_INVALID_ARG_TYPE options.shell");if(null!=n.argv0&&"string"!=typeof n.argv0)throw new Error("ERR_INVALID_ARG_TYPE options.argv0");if((n=Object.assign({},n)).shell){var r=[e].concat(t).join(" ");e="string"==typeof n.shell?n.shell:"/bin/bash",t=["-l","-c",r]}"string"==typeof n.argv0&&t.unshift(n.argv0);var i=["pipe","pipe","pipe"];return"string"==typeof n.stdio?i="inherit"===n.stdio?[0,1,2]:[n.stdio,n.stdio,n.stdio]:Array.isArray(n.stdio)&&((n.stdio[0]||0===n.stdio[0])&&("inherit"===n.stdio[0]?i[0]=0:i[0]=n.stdio[0]),(n.stdio[1]||0===n.stdio[1])&&("inherit"===n.stdio[1]?i[1]=1:i[1]=n.stdio[1]),(n.stdio[2]||0===n.stdio[2])&&("inherit"===n.stdio[2]?i[2]=2:i[2]=n.stdio[2])),{file:e,args:t,options:n,envPairs:n.env,stdio:i}}},function(e,t,n){var r=n(1);e.exports=function(e,t,n){var i={encoding:"buffer",timeout:0,maxBuffer:204800,killSignal:"SIGTERM",cwd:null,env:null,shell:!1};"object"!=typeof t||Array.isArray(t)?n=Object.assign(i,n||{}):(n=Object.assign(i,t),t=[]),function(e){if(null!=e&&!(Number.isInteger(e)&&e>=0))throw new Error("ERR_OUT_OF_RANGE options.timeout")}(n.timeout),function(e){if(null!=e&&!("number"==typeof e&&e>=0))throw new Error("ERR_OUT_OF_RANGE options.maxBuffer")}(n.maxBuffer);var o=r(e,t,{cwd:n.cwd,env:n.env,gid:n.gid,uid:n.uid,shell:n.shell,encoding:n.encoding,stdio:["pipe","pipe","inherit"]});if(0!==o.status){var a=new Error("Failed to run: "+String(o.stderr));throw a.pid=o.pid,a.status=o.status,a.stdout=o.stdout,a.stderr=o.stderr,a}return o.stdout}},function(e,t,n){"use strict";n.r(t);var r=n(16),i=n(17),o=n(18),a=n(19),s=n(22).exec,l=n(26).getSelectedDocument();t.default=function(e){var t=r.find("Artboard",l.selectedPage),n=!1,u=!0,c=!1,f=void 0;try{for(var d,p=t[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;if("TOC"===o.layerSettingForKey(h,"layerType")){n=!0;break}}}catch(b){c=!0,f=b}finally{try{u||null==p.return||p.return()}finally{if(c)throw f}}if(n){var g=a.showOpenDialogSync({properties:["openFile"],filters:[{name:"PDF",extensions:["pdf"]}]});if(g&&g.length){var m=e.plugin.urlForResourceNamed("handlepdf.py").path(),v=g[0],y=function(){var e=[],t=r.find("Artboard",l.selectedPage),n=!0,i=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;if("TOC"===o.layerSettingForKey(c,"layerType")){var f=c.layers,d=!0,p=!1,h=void 0;try{for(var g,m=f[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var v=g.value;if("Group"===v.type&&4===v.layers.length&&"Text"===v.layers[1].type&&"Text"===v.layers[3].type){var y=v.layers[1].text,_=v.layers[3].text,S='("'+y+'", "'+(parseInt(_)-1)+'", "['+v.frame.x+", "+v.frame.y+","+(v.frame.x+v.frame.width)+", "+(v.frame.y+v.frame.height)+']")';e.push(S)}}}catch(b){p=!0,h=b}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}break}}}catch(b){i=!0,a=b}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return e}(),_="python '".concat(m,"' '").concat(v,"' '").concat(y,"'");s(_,function(e,t,n){if(e)return console.error("exec error: ".concat(e)),void i.alert("Error",e);r.UI.message("Successfully! 🙌")})}}else i.alert("Error","该页面没有找到已生成的目录")}},function(e,t){e.exports=require("sketch")},function(e,t){e.exports=require("sketch/ui")},function(e,t){e.exports=require("sketch/settings")},function(e,t,n){e.exports={showOpenDialog:n(2).openDialog,showOpenDialogSync:n(2).openDialogSync,showSaveDialog:n(6).saveDialog,showSaveDialogSync:n(6).saveDialogSync,showMessageBox:n(7).messageBox,showMessageBoxSync:n(7).messageBoxSync}},function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(e){return Boolean(e&&void 0!==e.length)}function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(i){return void l(t.promise,i)}s(t.promise,r)}else(1===e._state?s:l)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void f((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(a){l(e,a)}var r,i}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,l(t,e))})}catch(r){if(n)return;n=!0,l(t,r)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new c(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(t){a(e,t)},n)}i[e]=r,0==--o&&t(i)}catch(l){n(l)}}for(var s=0;s<i.length;s++)a(s,i[s])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)o.resolve(e[i]).then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=o}).call(this,n(3).setImmediate)},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},d.clearImmediate=p}function p(e){delete u[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(4),n(5))},function(e,t,n){e.exports.exec=n(23),e.exports.execFile=n(8),e.exports.spawn=n(9),e.exports.spawnSync=n(1),e.exports.execFileSync=n(14),e.exports.execSync=n(25)},function(e,t,n){var r=n(8);e.exports=function(e,t,n){var i=function(e,t,n){return"function"==typeof t&&(n=t,t=void 0),(t=Object.assign({},t)).shell="string"!=typeof t.shell||t.shell,{file:e,options:t,callback:n}}(e,t,n);return r(i.file,i.options,i.callback)}},function(e,t){e.exports=require("events")},function(e,t,n){var r=n(14);e.exports=function(e,t){var n=function(e,t){return(t=Object.assign({},t)).shell="string"!=typeof t.shell||t.shell,{file:e,options:t}}(e,t);return r(n.file,n.options)}},function(e,t){e.exports=require("sketch/dom")}]);if("default"===e&&"function"==typeof n)n(t);else{if("function"!=typeof n[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');n[e](t)}}globalThis.onRun=__skpm_run.bind(this,"default");